--ALTER SESSION DISABLE PARALLEDL DML;
--MARCELA

SELECT *
FROM JUANITO.mascota;


INSERT INTO JUANITO.MASCOTA
VALUES (1, 'JERRY');
COMMIT;

--PERMISO DE SELECT DE MARCELA A RAUL A LA TABLA MASCOTA EN JUANITO PREVIO PERMISO

GRANT SELECT ON JUANITO.MASCOTA
TO RAUL

SELECT * FROM USER_SYS_PRIVS

--RAUL

CREATE TABLE PRODUCTO

(
    CODIGO NUMBER(10),
    DESCRIPCION VARCHAR2(30)
);

SELECT * FROM HR.DEPARTMENTS

--CONSULTAR ROL ASIGNADO
SELECT * FROM USER_ROLE_PRIVS;

--JUANITO
CREATE TABLE MASCOTA
(
    CODIGO NUMBER(5),
    NOMBRE VARCHAR2(30)
);

--PRIVILEGIO DE OBJETO

GRANT SELECT, INSERT ON MASCOTA TO MARCELA;


--PERMISO DE OTORGAR PRIVILEGIO SELECT A MARCELA
GRANT SELECT ON MASCOTA
TO MARCELA
WITH GRANT OPTION;



REVOKE SELECT, INSERT ON MASCOTA FROM MARCELA;

--ADMIN
CREATE USER "RAUL" IDENTIFIED BY "CanaL13141516$$"
DEFAULT TABLESPACE "DATA"
TEMPORARY TABLESPACE "TEMP";
ALTER USER "RAUL" QUOTA 10M ON "DATA";


CREATE USER "MARCELA" IDENTIFIED BY "CanaL13141516$$"
DEFAULT TABLESPACE "DATA"
TEMPORARY TABLESPACE "TEMP";
ALTER USER "MARCELA" QUOTA 10M ON "DATA";


CREATE USER "JUANITO" IDENTIFIED BY "CanaL13141516$$"
DEFAULT TABLESPACE "DATA"
TEMPORARY TABLESPACE "TEMP";
ALTER USER "JUANITO" QUOTA 10M ON "DATA";

--SI LOS CAMBIOS NO HACEN EFECTO, RECONECTAR.
--PRIVILIEGIOS DE SISTEMA
GRANT CREATE SESSION TO RAUL, MARCELA, JUANITO;
GRANT CREATE TABLE TO JUANITO


--CREAR ROL
CREATE ROLE  ROL_PRUEBAS;

--ASIGNAR PRIVILEGIOS AL ROLE
GRANT CREATE SESSION, CREATE TABLE TO ROL_PRUEBAS;
     
---ASIGNAR ROL         
GRANT ROL_PRUEBAS TO RAUL;

--OTORGAR PRIVILEGIOS DE OBJETOS SOBRE ROL
GRANT SELECT ON HR.DEPARTMENTS
TO ROL_PRUEBAS;

--QUITAR PRIVILEGIOS
REVOKE CREATE SESSION, CREATE TABLE FROM JUANITO;
REVOKE CREATE SESSION FROM MARCELA;
REVOKE ROL_PRUEBAS FROM RAUL;
REVOKE CREATE SESSION FROM RAUL;
CREATE ANY INDEX
